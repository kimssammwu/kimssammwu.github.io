---
title: Gatsby로 나만의 블로그 구축하기
description: Gatsby로 블로그 만드는 과정을 작성하였습니다
date: "2024-09-19"
slug: gatsby-blog-project-recap
private: false
---

&nbsp;&nbsp;&nbsp;나만의 블로그를 만들고 싶다고 처음 생각한 건 꽤 오래되었습니다. 대학교 2학년 때 `velog` 플랫폼을 통해서 처음으로 개발 블로그를 시작했습니다. 아무래도 규모도 크고 양질의 콘텐츠가 많기 때문에 해당 플랫폼으로 입문하였고, 쉽게 접근할 수 있는 플랫폼 중 디자인도 깔끔한 편에 속하다 보니 손이 간 것 같습니다. 아쉽게도 많은 글을 작성하진 않았고 알고리즘 풀이와 간단한 대회 회고록을 작성했었습니다.

## velog

&nbsp;&nbsp;&nbsp; [velog](https://velog.io/)는 좋은 플랫폼입니다. 사이트에 회원가입만 하면 준수한 디자인의 플랫폼에서 글을 쓸 수 있고 다른 사람의 글도 쉽게 볼 수 있습니다. velog에서는 태그를 중심으로 글을 씁니다. 각자 게시글마다 태그를 작성하고 이러한 태그를 기반으로 다른 글을 탐색할 수도 있습니다.

#

&nbsp;&nbsp;&nbsp; 하지만 저는 이러한 방식이 쉽사리 다가오지 않았습니다. 예전부터 네이버 블로그나 카페에 맛 들어져서 그런지 이러한 방식이 어색하게 다가왔습니다. velog에서는 저와 같은 사용자를 위해서 `시리즈`라는 기능을 제공합니다. 게시글을 묶어 시리즈로 낼 수 있는 것이죠. 그런데 저는 개인적으로 이러한 시리즈 기능으로도 마음의 평화를 느끼진 못했습니다. 정확한 이유는 모르겠지만 추측건데 개인 페이지에 처음으로 뜨는 것이 태그 기반의 "**글 페이지**"여서가 아닌지 생각해 봅니다.

#

## 그래서?

&nbsp;&nbsp;&nbsp; 개발자의 최고 장점 중 하나는 불편한 것이 있으면 최소한의 지식과 행동력이 합쳐져 유의미한 결과물을 만들 수 있는 것으로 생각합니다. 여러 블로그를 사용해 보면서 아쉬운 점은 제 입맛대로 바꾸고 여러가지 재미있는 기능을 추가하고 싶었습니다.

#

### 1. 카테고리

&nbsp;&nbsp;&nbsp; 가장 먼저 생각한 것이 카테고리입니다. 트리 형식으로 각 게시글의 카테고리를 구별해 글을 묶어서 내보내는 것입니다. 아무래도 velog에서 독립된 플랫폼을 만들어서 쓰고 싶다고 생각한 이유다 보니 새로 블로그를 만들면 가장 먼저 넣어야겠다고 생각했습니다.

### 2. TOC

&nbsp;&nbsp;&nbsp; 두 번째는 TOC[^1]를 구현하는 것입니다. velog에서는 Header를 기준으로 TOC를 자동으로 생성해줍니다. 네이버나 다른 블로그에선 종종 이 기능을 제공하지 않는 경우도 있습니다. 하지만, 최근에 군대 인트라넷 속 휴머니스트에서 개발 글을 써보다보니 이런 TOC가 있는 편이 쓰는 입장에서는 적절한 글을 쓸 수 있고 읽는 호흡에도 도움이 되는 것 같아 가능한 필수 기능이라고 생각했습니다.

### 3. 깔끔한 디자인

&nbsp;&nbsp;&nbsp; **보기 좋은 떡이 먹기도 좋다** 라는 말이 있듯이 부족한 글이라도 디자인이 예쁘다면 눈에 더 잘 들어올 것 같았습니다. 다만 디자이너 없이 야매로 만들다 보니 많은 시간을 디자인에 써야겠지만, 최소한 낙후된 디자인만 아니도록 노력하려 했습니다.

#

## 미룬이

&nbsp;&nbsp;&nbsp; 대학교를 휴학하고 블로그를 만들겠다고 다짐했지만, 결국 군대에 와서야 제대로 시작하게 되었습니다. 처음에는 깃허브에서 추천하는 Jekyll을 주목했습니다. 하지만 특정 기능을 추가하기 위해서는 ruby 기반의 프레임워크를 이해해야 하였고 거기서 오는 러닝 커브가 너무 심하게 느껴졌습니다. 그러다보니 추가 기능은 꿈도 못 꾸고 게시글만 쓰는 것 같아 아쉬웠고, 디자인도 개인적으로 마음에 들지 않았습니다. 그런데 글을 쓰기위해 공식 페이지를 다시 방문해 트렌디한 테마들이 많이 추가된 것 같긴 했습니다.

#

&nbsp;&nbsp;&nbsp; 이런 과정을 거치다가 다른 블로그를 참고하던 중 Gatsby를 알게 되었고, 언젠가 만든다면 Gatsby를 통해 만들어야겠다고 생각하게 되었습니다. 하지만 군대에 있는 동안에는 공부를 해야하는데 생각과 깨달음을 정리할 곳이 없고 그러다 보니 공부를 안 하게 되는 악순환이 이어졌습니다. 이번에 길게 휴가 나와서 집에서 남은 시간을 활용해 블로그 개발을 시작하게 되었고, 만들어진 블로그를 통해 제 생각과 공부한 내용을 정리해 보려 합니다. 이 과정을 통해 더 많은 것을 배우고 공유할 수 있기를 기대하고 있습니다.

#

## Troubleshooting

### 1. custom markdown 문법 추가하기

&nbsp;&nbsp;&nbsp; [obsidian](https://obsidian.md/)을 쓰면서 알게 된 마크다운 에디터에서 종종 지원하는 문법이 하나 있습니다. 공식 명칭이 따로 있는지는 모르겠습니다만, google에 `markdown admonitions`라고 검색하면 제가 찾고자 하는 문법이 나오는 것 같습니다. markdown 기본 문법은 아닌 것 같고 에디터에서 구현된 기능인 것 같은데 github에서도 사용 가능하고 obsidian에서도 유용하게 사용하는 기능이다 보니 개인적으로 추가하고 싶었습니다.

#

&nbsp;&nbsp;&nbsp; Gatsby에서는 markdown 문법에서 html로 바꿔주는 변환하는 역할을 `gatsby-transformer-remark` 라이브러리에서 담당합니다. 그러다 보니 추가적인 문법을 지원하기 위해서는 이 라이브러리를 어떻게 건드려야 합니다. 그러면 라이브러리를 가져와서 소스코드를 수정해야 하는 걸까요? 다행히도 gatsby에서는 각 라이브러리를 gatsby-config 파일에서 관리를 하고 여기서 각 기반 라이브러리는 보통 plugins를 옵션으로 가지고 있어 개발자는 소스코드를 뜯어볼 필요 없이 플러그인을 만들어서 넣어주면 됩니다.

#

&nbsp;&nbsp;&nbsp; [공식 문서](https://www.gatsbyjs.com/tutorial/remark-plugin-tutorial/)에 Gatsby-Transformer-Remark 플러그인을 만드는 방법이 정말 잘 작성되어 있습니다. 저는 여기서 인용문 중에서도 "[!warning]"과 같은 키워드로 시작하는 태그들에 추가적인 클래스를 지정해서 인용문하고 분리시켜주었습니다(일반 인용문은 `>`으로 시작하고 admonitions syntax는 보통 `> [!note]` 와 같은 방식으로 씁니다.) 최종적으로 아래와 같은 결과물이 나왔습니다.

> [!note]  
> add custom sysntax using gatsby-transformer-remark plugin. </br>
> support note, tip, important, warning, caution.

&nbsp;&nbsp;&nbsp; 현재는 그렇게 큰 기능이 아니다 보니 현재 블로그 프로젝트에 **plugin** 폴더에 넣어서 관리하고 있습니다. 만약 다른 플러그인이 추가되거나 규모가 커지게 된다면 repository를 분리하는 것도 좋을 것 같습니다.

#

### 2. template 파일에 tailwind 적용

&nbsp;&nbsp;&nbsp; 며칠 안 되는 짧은 기간 동안 개발하였지만, tailwind css가 각 블로그 게시글에 적용이 안 되는 문제 때문에 골치를 썩였습니다. 아예 적용이 안 되면 어디선가 문제가 있겠구나! 감을 잡았을 것 같은데 폰트에 bold와 24 미만의 크기에서는 작동해서 css 태그를 잘못 건드렸나 계속 확인해 보고 개발자도구도 들락날락했는데 아예 class에 속성값이 적용이 안 되어있었습니다. 계속 원인을 고민하다가 page를 **동적으로 추가하는 코드 때문에 정상적으로 tailwind가 안 불러와지나?** 라는 생각을 하게 되었고 github에서 관련 이슈가 있는지 확인해 보았지만 아쉽게도 원하는 글은 없었습니다. 그러다가 tailwind.config.js 파일을 확인하였는데...

```js
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    `./src/pages/**/*.{js,jsx,ts,tsx}`,
    `./src/components/**/*.{js,jsx,ts,tsx}`,
  ],
  theme: {
    extend: {},
  },
  plugins: [],
};
```

&nbsp;&nbsp;&nbsp; 허무하게도 content 옵션에 제가 동적으로 추가하기 위해 추가한 template 폴더가 포함되지 않았었습니다. 템플릿 폴더를 추가하고 동작시키니 정상 작동하는 모습을 보여주었습니다. 처음 프로젝트를 생성하는 과정에서 cli 마법사가 자동으로 tailwind를 추가해주기도 하였고, tailwind를 거의 처음 사용해보는 거다보니 이해도가 떨어졌었습니다. 그래도 문제를 알아서 다행인 것 같습니다.

#

### 3. TOC 만들기

&nbsp;&nbsp;&nbsp; WIP 기능이긴 합니다. 우측에 최대한 그럴듯하게 TOC를 가져와서 현재 위치 자동으로 가져오도록 구현해 두었는데 아무래도 정확한 현재 위치가 아니라 페이지 맨 위를 기준으로 측정하고 실시간이면서 구현에 초점을 맞추다 보니 Throttle를 주긴 하였지만 아직 최적화에 문제가 많아 최적화와 리팩토링 위주로 코드 개선이 필요합니다.

#

## 과제

&nbsp;&nbsp;&nbsp; 블로그 만들기 프로젝트의 첫 시도는 어느 정도 마무리가 되었습니다. 물론 글을 쓰고있는 현시점에서, 랜딩 페이지는 여전히 모든 게시글을 단순히 나열하고 있고, 우측 추가 정보 영역은 비어 있습니다. 그럼에도 불구하고 글을 작성할 수 있는 기능은 갖추었습니다.

#

&nbsp;&nbsp;&nbsp; 사실 가장 큰 숙제는 글을 주기적으로 쓰는 것입니다. 지금까지 블로그를 제대로 운영하지 못한 이유는 글쓰기에 너무 오랜 시간이 걸렸기 때문입니다. 글을 쓰는 것에 큰 자신이 없었고, 애정이나 중요성을 느끼지 못하다 보니, 시간이 많이 소요되는 글쓰기가 그리 하고 싶지 않았습니다. 하지만 군대에서 복무하면서 많은 시간을 보내고 그 중요성을 깨닫게 되었고, 이제는 블로그 프로젝트에 애착이 생겨 열심히 글을 쓰는 것을 목표로 삼아 보려 합니다.

#

&nbsp;&nbsp;&nbsp; 블로그 내부적으로도 많은 부분을 개선해야 합니다. 랜딩 페이지에 더 많은 기능을 추가하고, TOC 최적화도 진행해야 합니다. 기본 기능이 완성되면, 구현에만 집중했던 스파게티 코드들을 리팩토링하는 작업도 필요할 것입니다. 최종 목표는 다양한 상호작용 가능한 기능을 추가하는 것입니다. 우선, 예전에 동아리에서 진행했던 프로젝트에서 엎어진 포스트잇 기능 블로그에 URI를 잘 활용해 넣어보고 싶습니다. 블로그의 규모가 조금 더 커지면 링크를 공유하여 단순히 제 게시글만 전달하는 것이 아니라, 독자 개인의 생각도 나눌 수 있는 공간이 되었으면 합니다. 의견을 나누는 곳에는 댓글 기능도 있지만, 개인적인 견해를 지인에게 비밀스럽게 전달할 수 있는 수단이 되면 재미있을 것 같습니다.

#

&nbsp;&nbsp;&nbsp; 이런 아이디어들은 GitHub 프로젝트 탭에서 관리할 예정인데, 처음 사용해 보니 아직 익숙하지는 않습니다. 하지만 조금씩 익숙해져 가면서 블로그가 성장해 나가기를 기대합니다. 앞으로의 과정에서 배운 것들을 기록하고, 더 많은 사람들과 소통할 수 있는 공간으로 만들어가고 싶습니다. 지속적으로 발전하는 블로그가 되길 바라며, 첫 게시글을 마무리하도록 하겠습니다. 끝까지 읽어주셔서 감사합니다 ;)

[^1]: TOC(Table Of Contents)는 간단하게 말하면 목차로 문서의 각 섹션을 나열하여 독자가 원하는 정보를 쉽게 찾을 수 있도록 돕는 역할을 합니다.
